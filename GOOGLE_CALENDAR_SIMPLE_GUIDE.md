# 📅 Google Calendar 간단 연동 가이드

## 🎯 왜 간단한 방식을 선택했나요?

**기존 API 방식의 문제점:**
- 복잡한 Google Cloud Console 설정 필요
- OAuth 2.0 인증 구현 복잡
- CORS 및 보안 제약사항 다수
- 개발자 등록 및 승인 과정 필요

**공유 캘린더 방식의 장점:**
✅ **설정 간단**: 캘린더 공유 URL만 복사하면 끝  
✅ **즉시 사용**: API 키나 승인 과정 불필요  
✅ **안전함**: 공개 캘린더만 접근, 개인정보 보호  
✅ **실시간**: iCal 형식으로 최신 데이터 동기화  

---

## 🚀 설정 방법 (3단계)

### 1단계: Google Calendar에서 공개 설정

1. [Google Calendar](https://calendar.google.com) 접속
2. 왼쪽 사이드바에서 공유할 캘린더 선택
3. 캘린더 이름 옆 **⋮** (더보기) 메뉴 클릭
4. **"설정 및 공유"** 선택

### 2단계: 공개 액세스 활성화

1. "액세스 권한" 섹션으로 이동
2. **"공개로 사용 설정"** 체크박스 활성화
3. 드롭다운에서 **"약속 시간만 보기"** 또는 **"모든 약속 세부정보 보기"** 선택

> ⚠️ **프라이버시 주의**: 개인 일정은 별도 캘린더로 분리하여 업무용 캘린더만 공개하세요.

### 3단계: iCal URL 복사

1. "캘린더 통합" 섹션으로 스크롤
2. **"공개 주소 (iCal 형식)"** 옆 URL 복사
3. Clarity Matrix 설정에서 이 URL 붙여넣기

---

## 📋 Clarity Matrix에서 연동하기

### 연결 과정

1. **설정 페이지** (`design/settings.html`) 열기
2. Google Calendar **"연결"** 버튼 클릭
3. 복사한 iCal URL을 **"캘린더 공유 URL"** 입력란에 붙여넣기
4. 캘린더 이름 입력 (예: "업무 일정", "개인 캘린더")
5. **"연결하기"** 버튼 클릭

### 지원되는 URL 형식

```
✅ iCal URL: https://calendar.google.com/calendar/ical/[캘린더ID]/public/basic.ics
✅ 공유 URL: https://calendar.google.com/calendar/embed?src=[캘린더ID]
✅ 이메일 형식: your-calendar@gmail.com
```

---

## 🔄 동기화 작동 방식

### 이벤트 → GTD 작업 변환

**우선순위 자동 분류:**
- **Q1 (긴급&중요)**: 2시간 이내 시작 이벤트
- **Q2 (중요)**: 24시간 이내 + 위치 있는 이벤트
- **Q3 (긴급)**: 24시간 이내 일반 이벤트
- **Q4 (나중에)**: 그 외 모든 이벤트

**컨텍스트 자동 추론:**
- 📍 **위치 기반**: 회의실 → @회의, 카페 → @외출
- 🔤 **키워드 기반**: "개발" → @집중, "Zoom" → @온라인
- 👥 **참석자 기반**: 다수 참석 → @회의

**메타데이터 포함:**
- 이벤트 지속시간 (⏱️ 2시간)
- 위치 정보 (📍 강남역 2번 출구)
- 원본 캘린더 링크 (🔗)

---

## 📊 활용 사례

### 1. 업무 캘린더 연동
```
캘린더 이벤트: "팀 회의 - 분기 리뷰"
→ GTD 작업: [Q1] 팀 회의 - 분기 리뷰 @회의 @사무실
→ 컨텍스트: 회의실 위치, 2시간 소요
```

### 2. 개인 일정 관리
```
캘린더 이벤트: "병원 진료"
→ GTD 작업: [Q2] 병원 진료 @외출 @개인
→ 컨텍스트: 서울대병원, 1시간 소요
```

### 3. 온라인 이벤트
```
캘린더 이벤트: "Zoom 교육 세션"
→ GTD 작업: [Q3] Zoom 교육 세션 @온라인 @학습
→ 컨텍스트: 줌 링크 포함, 3시간 소요
```

---

## 🔧 문제 해결

### Q: "캘린더에 접근할 수 없습니다" 오류
**A:** 캘린더가 공개 설정되지 않았을 가능성
- Google Calendar → 설정 및 공유 → "공개로 사용 설정" 확인
- 잠시 후 다시 시도 (설정 반영 시간 필요)

### Q: 이벤트가 동기화되지 않음
**A:** URL 형식 확인 및 캐시 문제 해결
- iCal URL이 `.ics`로 끝나는지 확인
- 브라우저 새로고침 후 재시도
- 15분 후 자동 동기화 대기

### Q: 개인 정보가 노출되나요?
**A:** 공개 설정한 캘린더만 접근 가능
- 개인 캘린더는 별도 분리 권장
- "약속 시간만 보기" 옵션으로 세부사항 숨김 가능

---

## ⚡ 고급 활용법

### 여러 캘린더 연동
1. 업무용 캘린더: `업무 일정`
2. 개인용 캘린더: `개인 약속`  
3. 프로젝트별 캘린더: `프로젝트 A 일정`

각각 별도로 연결하여 소스별 구분 관리

### 자동화 팁
- **자동 동기화**: 10분마다 최신 이벤트 확인
- **필터링**: 과거 30일 이전 이벤트는 자동 제외
- **컨텍스트 학습**: 반복 패턴 기반 자동 태그 개선

---

## 📈 다음 업그레이드 계획

**현재 구현 완료:**
- ✅ 단방향 동기화 (Calendar → Clarity Matrix)
- ✅ 자동 우선순위 분류
- ✅ 컨텍스트 자동 추론

**향후 개발 예정:**
- 🔄 양방향 동기화 (Clarity Matrix → Calendar)
- 🤖 AI 기반 컨텍스트 추론 개선
- 📱 모바일 앱 연동

---

**이제 복잡한 API 설정 없이도 Google Calendar를 GTD 시스템과 완벽 연동할 수 있습니다! 🎉**