# 📋 Todoist 통합 테스트 체크리스트

## 🚀 테스트 시작하기

### 1. 파일 열기
```bash
# 브라우저에서 열기
design/settings.html
```

### 2. CORS 문제 해결 (필요시)
실제 Todoist API 호출이 CORS로 차단되면 **Mock 모드** 사용:
- 우하단 🧪 개발자 도구에서 **"Mock 모드"** 버튼 클릭
- 이후 임의의 토큰(10글자 이상)으로 테스트 가능

---

## ✅ 테스트 체크리스트

### Phase 1: 연결 기능 테스트

#### ❌ 잘못된 토큰 테스트
- [ ] Todoist 연결 버튼 클릭
- [ ] 짧은 토큰 입력 (예: "123")
- [ ] **예상 결과**: "API 토큰이 너무 짧습니다" 오류 메시지

#### ✅ 정상 연결 테스트  
- [ ] 10글자 이상 토큰 입력 (Mock 모드) 또는 실제 Todoist API 토큰
- [ ] **예상 결과**: 
  - [ ] "연결 성공!" 메시지 표시
  - [ ] 상태가 "연결됨"으로 변경 (초록색)
  - [ ] 동기화, 연결 해제 버튼 활성화
  - [ ] 동기화 요약 섹션 표시

---

### Phase 2: 동기화 기능 테스트

#### 첫 동기화
- [ ] **동기화** 버튼 클릭
- [ ] **예상 결과**:
  - [ ] "Todoist에서 X개의 작업을 가져왔습니다" 메시지
  - [ ] 통계 업데이트: "동기화된 작업" 숫자 증가

#### 수신함 확인
- [ ] **수신함 페이지** (`inbox.html`) 이동
- [ ] **예상 결과**:
  - [ ] Todoist 작업들이 목록에 표시
  - [ ] 각 작업 앞에 📋 아이콘 표시
  - [ ] 외부 작업은 좌측에 파란색 테두리
  - [ ] 컨텍스트 태그 표시 (예: @사무실, @컴퓨터)
  - [ ] 🔗 버튼으로 원본 링크 접근 가능

---

### Phase 3: 우선순위 매핑 검증

#### 아이젠하워 매트릭스 확인
- [ ] **아이젠하워 매트릭스 페이지** (`eisenhower_matrix.html`) 이동
- [ ] **예상 매핑 확인**:

**Q1 (긴급&중요)**
- [ ] "긴급한 버그 수정" (P1 + 오늘 마감)
- [ ] "병원 예약" (P1 + 내일 마감)

**Q2 (중요)**  
- [ ] "주간 보고서 작성" (P2 + 마감일 없음)

**Q3 (긴급)**
- [ ] "회의실 예약" (P3 + 내일 마감)
- [ ] "JavaScript 강의 수강" (P3)

**Q4 (나중에)**
- [ ] "책 읽기 - 클린 아키텍처" (P4)

---

### Phase 4: 드래그 앤 드롭 테스트

#### 작업 이동
- [ ] Q4의 "책 읽기" 작업을 Q2로 드래그
- [ ] **예상 결과**: 
  - [ ] 작업이 Q2 영역으로 이동
  - [ ] 드래그 중 시각적 피드백 표시
  - [ ] 드롭 시 배경색 하이라이트

#### 여러 작업 이동 테스트
- [ ] 다른 Todoist 작업들도 다양한 분면으로 이동
- [ ] **예상 결과**: 모든 작업이 정상적으로 이동

---

### Phase 5: 컨텍스트 및 메타데이터 검증

#### 컨텍스트 태그 확인
Mock 데이터 기준:
- [ ] "긴급한 버그 수정": @사무실, @컴퓨터
- [ ] "회의실 예약": @전화  
- [ ] "책 읽기": @집
- [ ] "JavaScript 강의": @집, @컴퓨터, @15분

#### 추론된 컨텍스트 확인
- [ ] 키워드 기반 자동 추론 확인:
  - [ ] "버그" 포함 → @개발 컨텍스트 추가
  - [ ] "예약" 포함 → @전화 컨텍스트 추가
  - [ ] 마감일 임박 → @긴급 컨텍스트 추가

---

### Phase 6: 외부 링크 및 상세정보

#### 원본 링크 테스트
- [ ] 작업의 🔗 버튼 클릭
- [ ] **예상 결과**: 새 탭에서 Todoist 원본 작업 열림 (Mock에서는 가짜 URL)

#### 작업 세부정보
- [ ] 각 작업의 메타정보 확인:
  - [ ] 소스 배지 (📋) 표시
  - [ ] 우선순위 레벨 표시
  - [ ] 컨텍스트 태그들 표시

---

### Phase 7: 통계 및 요약 정보

#### 동기화 요약 확인
- [ ] 설정 페이지의 "동기화 현황" 섹션 확인
- [ ] **예상 내용**:
  - [ ] 동기화된 작업: 6개 (Mock 데이터 기준)
  - [ ] 마지막 동기화: 현재 시간

#### 통계 페이지 확인  
- [ ] 통계 섹션에서 소스별 분포 확인
- [ ] **예상 결과**: Todoist 작업들이 통계에 반영

---

### Phase 8: 연결 해제 테스트

#### 안전한 연결 해제
- [ ] "연결 해제" 버튼 클릭
- [ ] 확인 대화상자에서 "확인" 클릭
- [ ] **예상 결과**:
  - [ ] "연결 해제됨" 메시지
  - [ ] 상태가 "연결되지 않음"으로 변경
  - [ ] Todoist 작업들이 모든 페이지에서 사라짐
  - [ ] 동기화 요약 섹션 숨겨짐

---

## 🐛 알려진 이슈 및 해결책

### 1. CORS 오류
```
Access to fetch at 'https://api.todoist.com' has been blocked by CORS policy
```
**해결**: Mock 모드 사용 또는 CORS 비활성화 브라우저 실행

### 2. 토큰 저장 보안
- 현재 localStorage에 평문 저장
- 실제 운영 시 백엔드 암호화 필요

### 3. API 제한
- Todoist API는 분당 450개 요청 제한
- 대용량 데이터 시 주의 필요

---

## 📊 테스트 완료 후 평가

### 성공 기준
- [ ] **90% 이상의 체크리스트 항목** 통과
- [ ] **우선순위 매핑** 정확성 확인
- [ ] **UI/UX** 자연스러운 동작
- [ ] **에러 처리** 적절한 메시지 표시

### 다음 단계 준비도
Mock 테스트 성공 시:
- ✅ Google Calendar 통합 준비 완료
- ✅ JIRA 통합 아키텍처 검증 완료
- ✅ 통합 대시보드 UI 요구사항 확정

---

## 🎯 테스트 팁

1. **브라우저 콘솔 열기** (F12): 에러 메시지 확인
2. **네트워크 탭**: API 호출 상태 확인  
3. **로컬 스토리지**: 데이터 저장 상태 확인
4. **다양한 시나리오**: 실제 사용 패턴 시뮬레이션

**Happy Testing! 🚀**